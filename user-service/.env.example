# =============================================================================
# User Service Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values
# IMPORTANT: Never commit .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
NODE_ENV=development
# Options: development, production, test
# - development: verbose logging, detailed errors
# - production: optimized performance, minimal logging
# - test: special configuration for testing

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=3001
# Port number for the user service to listen on
# Default: 3001
# Make sure this doesn't conflict with other services

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL="postgresql://username:password@localhost:5432/user_service_db?schema=public"
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
# Example: postgresql://postgres:secret@localhost:5432/mydb?schema=public
# For production, use connection pooling and SSL

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
# Secret key for signing JWT access tokens
# CRITICAL: Use a strong, random string in production (min 32 characters)
# Generate with: openssl rand -base64 32

JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production
# Secret key for signing JWT refresh tokens
# CRITICAL: Must be different from JWT_SECRET
# Generate with: openssl rand -base64 32

ACCESS_TOKEN_EXPIRY=15m
# Access token expiration time
# Format: https://github.com/vercel/ms
# Examples: 15m, 1h, 7d
# Recommended: 15m-1h for security

REFRESH_TOKEN_EXPIRY=7d
# Refresh token expiration time
# Examples: 7d, 30d, 90d
# Recommended: 7-30 days

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:5173
# Frontend application URL for CORS
# In production, set to your actual frontend domain
# Example: https://app.example.com
# For multiple origins, modify cors middleware in index.ts

# -----------------------------------------------------------------------------
# Google OAuth (Optional)
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# Google OAuth client ID
# Get from: https://console.cloud.google.com/apis/credentials
# Required only if using Google authentication

GOOGLE_CLIENT_SECRET=your-google-client-secret
# Google OAuth client secret
# Get from: https://console.cloud.google.com/apis/credentials

GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback
# OAuth callback URL
# Must match the redirect URI configured in Google Console

# -----------------------------------------------------------------------------
# Email Service (for verification, password reset)
# -----------------------------------------------------------------------------
# NOTE: Email functionality not yet implemented
# Configure when adding email service (SendGrid, AWS SES, etc.)

# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-smtp-password
# EMAIL_FROM=noreply@example.com

# -----------------------------------------------------------------------------
# File Upload Configuration
# -----------------------------------------------------------------------------
MAX_FILE_SIZE=5242880
# Maximum file size for uploads in bytes
# Default: 5MB (5 * 1024 * 1024)
# Adjust based on your storage and bandwidth constraints

UPLOAD_DIR=uploads
# Directory for storing uploaded files (profile images, etc.)
# Relative to project root
# For production, consider using S3 or similar cloud storage

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
BCRYPT_SALT_ROUNDS=12
# Number of salt rounds for bcrypt password hashing
# Higher = more secure but slower
# Recommended: 10-12 for production

# -----------------------------------------------------------------------------
# Rate Limiting (handled by gateway)
# -----------------------------------------------------------------------------
# Rate limiting is configured at the gateway level
# See gateway service configuration

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info
# Logging level
# Options: error, warn, info, http, debug
# - production: info or warn
# - development: debug
# - error: only errors

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
# Prometheus metrics available at /metrics endpoint
# No additional configuration needed

# =============================================================================
# Example Production Configuration
# =============================================================================
# NODE_ENV=production
# PORT=3001
# DATABASE_URL="postgresql://user:pass@prod-db.example.com:5432/userdb?schema=public&sslmode=require"
# JWT_SECRET=<use openssl rand -base64 32>
# JWT_REFRESH_SECRET=<use openssl rand -base64 32>
# ACCESS_TOKEN_EXPIRY=15m
# REFRESH_TOKEN_EXPIRY=7d
# FRONTEND_URL=https://app.example.com
# LOG_LEVEL=info
# =============================================================================
